<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CompuNet Chat</title>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar con lista de chats -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>Chats</h2>
                <div class="user-info">
                    <span id="current-user-name">Usuario</span>
                </div>
            </div>
            
            <div class="sidebar-actions">
                <button id="btn-new-direct-chat" class="btn-action">ðŸ’¬ Chat Directo</button>
                <button id="btn-new-group" class="btn-action">ðŸ‘¥ Nuevo Grupo</button>
                <button id="btn-refresh-chats" class="btn-action" style="grid-column: 1 / -1;">ðŸ”„ Actualizar</button>
            </div>
            
            <div class="chat-list" id="chat-list">
                <!-- La lista de chats se renderizarÃ¡ dinÃ¡micamente aquÃ­ -->
            </div>
        </div>
        
        <!-- Ãrea principal de chat -->
        <div class="chat-area">
            <div class="chat-header" id="chat-header">
                <h3 id="chat-name">Selecciona un chat</h3>
                <span id="chat-type" class="chat-type-badge"></span>
            </div>
            
            <div class="messages-container" id="messages-container">
                <div class="empty-state">
                    <p>Selecciona un chat para ver los mensajes</p>
                </div>
            </div>
            
            <div class="message-input-container">
                <button id="btn-record-audio" class="btn-record" title="Grabar nota de voz" disabled>
                    ðŸŽ¤
                </button>
                <input 
                    type="text" 
                    id="message-input" 
                    placeholder="Escribe un mensaje..." 
                    disabled
                />
                <button id="btn-send-message" class="btn-send" disabled>Enviar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal para crear grupos -->
    <div id="modal-new-group" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Crear Nuevo Grupo</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="group-name">Nombre del grupo:</label>
                    <input type="text" id="group-name" placeholder="Ej: Proyecto Universitario" />
                </div>
                <div class="form-group">
                    <label>Selecciona miembros:</label>
                    <div id="users-list" class="users-list">
                        <!-- Lista de usuarios disponibles -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-cancel-group" class="btn-secondary">Cancelar</button>
                <button id="btn-create-group" class="btn-primary">Crear Grupo</button>
            </div>
        </div>
    </div>

    <!-- Modal para iniciar chat directo -->
    <div id="modal-new-direct-chat" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Iniciar Chat Directo</h3>
                <button class="modal-close" id="modal-close-direct-chat">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Selecciona un usuario:</label>
                    <div id="users-list-direct-chat" class="users-list">
                        <!-- Lista de usuarios disponibles -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-cancel-direct-chat" class="btn-secondary">Cancelar</button>
                <button id="btn-start-direct-chat" class="btn-primary">Iniciar Chat</button>
            </div>
        </div>
    </div>
    
    <!-- Loading indicator -->
    <div id="loading" class="loading-overlay">
        <div class="spinner"></div>
        <p>Conectando al servidor...</p>
    </div>

    <!-- Modal Login -->
    <div id="modal-login" class="modal" style="display:flex;">
        <div class="modal-content" style="max-width:300px;">
            <h3>Bienvenido ðŸ‘‹</h3>
            <p>Escribe tu nombre para entrar al chat</p>

            <input id="login-name" type="text" placeholder="Tu nombre..." style="width:100%; padding:8px; margin:10px 0;" />

            <button id="btn-login" class="btn-primary" style="width:100%;">Entrar</button>
        </div>
    </div>

</body>
</html>